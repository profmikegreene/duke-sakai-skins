// - [ ] handle long lesson titles

@import "de-defaults";
// SAK-40006 CK Editor full screen bug
.cke_inner.cke_reset.cke_maximized {
	position: fixed !important; 
}
#topnav_container {
	display:none;
}
.#{$namespace}headerLogo--institution:after {
    content: "Extend";
    text-transform:uppercase;
    color: $grenadier;
	display:flex;
	font-size:1.5em;
	letter-spacing:.2em;
	margin:13px 0 0 94px;
	line-height:1.5em;
}
.#{$namespace}topHeader {
	
	.view-all-sites-btn {
		a {
			margin-top: 6px;
		}
	}
	.fa-user-secret {
		color:$klein;
	}
}
#mastLogin {
	#loginLinks {
        margin:0;
    }
	.all-sites-label,
	.has-avatar .textlink {
		display: none;
	}
	.has-avatar .#{$namespace}userNav__submenuitem--profilepicture {
		border:2px solid #fff;
		margin:0;
	}
	.has-avatar,
	.no-avatar {
		.#{$namespace}userNav__submenuitem--username,
		.#{$namespace}userNav__submenuitem--userid {
			height: 2.3em;
			width:2.3em;
			span.textlink {
				display:none;
			}
		}
	}
	#loginUser {
		border-radius:50%;
		border:2px solid $klein;
		border-right-color:$klein;
		border-bottom-color: $grenadier;
		border-left-color:$grenadier;
		line-height:1;
	}
}
@media only screen and (max-width: 800px) {
	#mastLogin .has-avatar {
		.#{$namespace}userNav__submenuitem--username,
		.#{$namespace}userNav__submenuitem--userid {
			display:flex;
		}
	}    
}

#linkNav {
	ul {
		li {
			&.#{$namespace}sitesNav__menuitem {
				border-radius:$button-radius;

				> a.link-container {
					padding-right:32px;
				}
				&.#{$namespace}sitesNav__menuitem--myworkspace {
					a.#{$namespace}sitesNav__dropdown {
						padding:0;
					}
					.fa-home {
						padding-right: 4px;
					}
				}
			}
			
			
		}
	}
}
#selectSite,
#selectQuickLink  {
	.tab-bar {
		.tab-btn{
			background:$background-color;
			border-color:$background-color;
			&.active{
				background:$white;
			}
		}
	}
}
#toolMenuWrap {
	border-right:none;
	box-shadow: $overview-portlet-shadow;
	margin:1em .5em 1em 1em;
	padding:0;
}
#toolMenu,
#subSites,
.floatingToolMenu {
	ul {
		li {
			.#{$namespace}toolsNav__menuitem--link {
				&.is-invisible {
					.#{$namespace}toolsNav__menuitem--icon {
						font-style: normal;
					}
				}
			}
		} 
	} 
} 
@media only screen and (min-width: 801px) {
	.#{$namespace}collapseTools button.js-toggle-nav {
		text-align: center;
	}
}


#toolMenu,
#subSites,
.floatingToolMenu {
	ul {
		li {
			list-style-type: none;
			&.is-current {
				margin-right:0;

				.#{$namespace}toolsNav__menuitem--link {
					.#{$namespace}toolsNav__menuitem--title {
						font-weight: 400;
					}
				}
			}
			&.#{$namespace}collapseTools {
				margin:1em;
				left:-3px;
				width: #{$tool-menu-width};
			}
			.#{$namespace}toolsNav__menuitem--link {
				&.is-invisible{
					font-style:normal;
					&::after{
						top:13px;
					}
				}
			}
		}
	}
}

body #toolMenu {
	li.has-lessons-sub-pages.is-current.is-parent-of-current ,
	li.has-lessons-sub-pages.has-lessons-sub-pages .lessons-top-level-placeholder  {
		.lessons-goto-top-page {
			.#{$namespace}toolsNav__menuitem--title:after{
				display:none;
			}
		}
		
	}
}

.navIntraTool {
	// border-bottom:none;
	background: $background-color;
	margin-left:-15px;
	//target tools without 'default tabs'
	.#{$namespace}sakai-siteinfo &,
	.#{$namespace}sakai-chat &,
	.#{$namespace}sakai-forums &,
	.#{$namespace}sakai-mailbox &,
	.#{$namespace}sakai-messages &,
	.#{$namespace}sakai-poll &,
	.#{$namespace}sakai-postem &,
	.#{$namespace}sakai-signup &,
	.#{$namespace}sakai-sitestats &,
	.#{$namespace}sakai-syllabus &,
	.#{$namespace}sakai-rwiki & {
		border-top: 1px solid rgba(0,0,0,0.05);
	}
	li {
		
		span {
			
			&.current{
				border-bottom:none;
    			border-left:1px solid rgba(0,0,0,0.1);
				border-right:1px solid rgba(0,0,0,0.1);
				&::before {
					border-radius:$button-radius $button-radius 0 0;
					border-top-color: $endeavour;
				}
				a {
					
					&:hover {
						background:$white;
						&::before{
							top:-2px;
							border-top-color: $endeavour;
						}
					}
				}
			}
			a {
				background:$background-color;
				border-color:$background-color;
			}
		}
	}
}

.#{$namespace}siteHierarchy{
	display: none;
}
/* V2 left aligned with orange Extend logo */
// @media only screen and (min-width: 801px) {
//     .#{$namespace}siteHierarchy {
//         display:flex;
// 		position:fixed;
// 		width:50%;
//         top:0;
//         line-height:52px;
//         left:25%;
//         z-index:1000;
//         color: #cc3300;
// 		background:transparent;
		
// 		.hierarchyWrap {
// 			margin:auto;
// 			display:flex;
// 			width:300px;
// 			justify-content: space-around;
// 			a,
// 			span{
// 				padding:0;
// 				margin:0;
				
// 			}
// 		}
// 		a.#{$namespace}hierarchy--toolName {
// 			display:none;
// 		}
// 		.#{$namespace}hierarchy--siteName {
// 			display:flex;
// 			color:$mine-shaft;
// 			a {
// 			color:$mine-shaft;
// 			font-size:1.2em;
// 			display:inline-block;
// 				&:hover {
// 					border:none;
// 					text-decoration:underline;
// 				}
				
// 			}
// 		}
// 	}
// }

/* V4 left aligned with revised Extend "Logo" */
.#{$namespace}headerLogo--institution:after,
.join .logo:after {
	color: #001A57;
	content:none;
}
.#{$namespace}siteHierarchy {
	display:flex;
	position:fixed;
	width:calc(100% - (1em + 83px + 1em + 105px + 1em)); //outer margin + logo + inner margin + mysites + profile pic + outer margin
	top:0;
	line-height:52px;
	left: 110px;
	z-index:1000;
	background:transparent;
	color:$mine-shaft;
	overflow:hidden;

	&:before {
		content: "EXTEND";
		color: $mine-shaft;
		padding:0;
	}
	a,
	span,
	span:last-child {
		margin:0;
		padding:0;
		color:inherit;
	}
	a:hover,
	a:active {
    	border:none;
    	text-decoration:underline;
    	color:$klein;
	}
	.#{$namespace}hierarchy--siteName{
		display:flex;
		color: inherit;
		&:hover {
			border:none;
			text-decoration:underline;
			color:inherit;
		}
	}
	.#{$namespace}hierarchy--siteName:before,
	.#{$namespace}hierarchy--siteName:after,
	.crumb-link:before {
		content: "/";
		color: inherit;
		padding:0 .5em;
		font-weight:400;
		}
	.#{$namespace}hierarchy--siteName a {
		font-size:1em;
		display:flex;
		&:hover {
			border:none;
		}
	}
	a.#{$namespace}hierarchy--toolName {
		display:flex;
		color:inherit;
		font-weight:400;
		text-transform:none;
		font-size:1em;
		margin:0;
		&:hover {
			border:none;
			text-decoration:underline;
			color:inherit;
		}
	}
	a .#{$namespace}hierarchy--siteName-label,
	.#{$namespace}hierarchy--toolName span:last-child,
	.crumb-link {
		display:block;
    	text-overflow:ellipsis;
    	overflow:hidden;
    	white-space:nowrap;
	}
	.#{$namespace}breadcrumb--icon,
	a.#{$namespace}hierarchy--toolName:hover .#{$namespace}breadcrumb--reset-icon,
	span.nextprev,
	.#{$namespace}hierarchy--separator,
	.lessons-siteHierarchy-title  {
		display:none;
	}
	.hierarchyWrap {
		margin:0;
		display:flex;
		justify-content:left;
	}
}
@media only screen and (max-width: 800px) {
	.#{$namespace}siteHierarchy {
		z-index:2;
		position:absolute;
		left:1em;
	}
}
.#{$namespace}mainHeader{
	box-shadow: $overview-portlet-shadow;
	&.is-maximized{
		.siteNavWrap{
			box-shadow: none;
		}
	}
}
#selectSite,
#selectQuickLink {
	.tab-bar{
		.tab-btn.active {
			border-radius: $button-radius;
		}
	}
}

.#{$namespace}toolTitleNav {
	.#{$namespace}toolTitleNav__link {
		.#{$namespace}itemTitle {
			display: none;
		}
	}
}
#content {
	padding-top:1em;
}
.portletBody {
	box-shadow: $overview-portlet-shadow;
}
.#{$namespace}multipleTools{
	.#{$namespace}container {
		border:none;
		.portletBody {
			box-shadow:none;
		}
	}
}



input[name="cancel"],
input[name="Cancel"],
input[value="Cancel"],
input[value="Clear"],
input[value="Back"]{
	background:	#888;
	border-color: #808080;
	&:hover{
		background: $scorpion;
		border-color: darken($scorpion, 10%);
	}
}
.#{$namespace}siteStatus{
	&.is-unpublished {
		margin:0 0 2.4em 1em;
		width:98%;
	}
}
// fixes #38 for Warpwire videos
.dejs.embed-responsive-16by9 .embed-responsive-item {
    max-width:960px;
    max-height:540px;
}
//////////////////////////////////////////////
// Footer
//////////////////////////////////////////////
.#{$namespace}container--footer {
    background:none;
    box-shadow:none;
    border:none;
	margin-bottom: 1em;
	width:100%;
}
.#{$namespace}footer {
	background:$white;
    width:auto;
    margin: 0 1em;
	box-shadow: $overview-portlet-shadow;
}
.#{$namespace}footer a {
	color:$mine-shaft;
    text-decoration:none;
}
.#{$namespace}footer--nav__main {
	display:none;
}
.#{$namespace}footer--nav__project,
.#{$namespace}footer--details {
	display:inline-block;
	margin:0 1em 0 0;
	padding:0;
	color:$mine-shaft;
}
.#{$namespace}footer--nav__project li {
	list-style:none;
	display:inline-block;
	margin:0 1em 0 0;
}
//////////////////////////////////////////////
// SWAPPED View
//////////////////////////////////////////////
@if $swapped-view-enabled {
	.#{$namespace}portalWrapper{
		color: $swapped-view-text-color;
		&.swapped-view{
			.#{$namespace}topHeader{
				background: $swapped-view-primary;
			}
			.#{$namespace}headerLogo{
				background: $swapped-view-primary;
			}
			.#{$namespace}siteHierarchy{
				background: $background-color;
				color: $mine-shaft;
				a {
					color: $endeavour;
				}
			}
			.#{$namespace}mainHeader.is-maximized .siteNavWrap{
				background: $swapped-view-sites-nav-background;
			}
		}
	}
}

//////////////////////////////////////////////
// WORKSPACE / HOME
//////////////////////////////////////////////
.workspace {
	// Hides breadcrumbs in HOME
	// .#{$namespace}pagebody,
	// #toolMenuWrap {
	// 	margin-top:2em;
	// }
	// .navIntraTool {
	// 	padding-right:10%;
	// }
	// .#{$namespace}siteHierarchy {
	// 	a.#{$namespace}hierarchy--toolName {
	// 		display:none;
	// 	}
	// }
	// .#{$namespace}pageColumns--single {
	// 	.#{$namespace}toolTitleNav__button_container {
	// 		top: 0;
	// 		z-index:2;
	// 	}
	// }
	// END Hides breadcrumbs
	.#{$namespace}pageColumns--single {
		.#{$namespace}toolTitleNav__button_container{
			right:0;
		}
	}
	.#{$namespace}multipleTools {
		.#{$namespace}toolTitleNav {
			.#{$namespace}toolTitleNav__title {
				font-size:1em;
			}
			.#{$namespace}container--toolTitleNav {
				padding: .6em 1em;
			}
			.#{$namespace}toolTitleNav__button_container {
				right:14px;
			}
		}

		.#{$namespace}sakai-simple-rss {
			.news-feed {
				padding: 14px;
				.news-items h3 {
					font-size:16px;
				}
				.news-items ul {
					padding:0;
				}
			}
			.#{$namespace}toolTitleNav__title a {
				color:#353535;
				text-decoration:none;
			}
			.news-source {
				display: none;
			}
		}
	}
	// Hide message of the day options
	// a[title="Message of the Day Options"]{
		
	// }
}
//////////////////////////////////////////////
// ASSIGNMENTS STYLES
//////////////////////////////////////////////
.#{$namespace}sakai-assignment-grades{
	.jumbotron {
		padding:2em;
	}
}
//////////////////////////////////////////////
// LESSONS STYLES
//////////////////////////////////////////////
$font-size-base: $default-font-size;
$font-size-h1:            floor(($font-size-base * 2.6)) !default; // ~36px
$font-size-h2:            floor(($font-size-base * 2.15)) !default; // ~30px
$font-size-h3:            ceil(($font-size-base * 1.7)) !default; // ~24px
$font-size-h4:            ceil(($font-size-base * 1.25)) !default; // ~18px
$font-size-h5:            $font-size-base !default;
$font-size-h6:            ceil(($font-size-base * 0.85)) !default; // ~12px

#print-view {
	margin:1em .5em;
}

.#{$namespace}sakai-lessonbuildertool {
	box-shadow:0 1px 2px rgba(0,0,0,0.1);
	iframe {
		border:none;
	}
	.portletBody {
		box-shadow:none;
		margin:-2em 0 0;
		padding:0;
	}
	.itemclass,
	.navIntraTool {
		padding:0;
	}
	.item {
		.right-col {
			padding:0 2em 1em;
		}
	}
	.mainList div.multimediaType {
		margin:0;
		
	}
	.mainList div.multimediaType .right-col {
		padding:0;
		
	}
	// handled in js/src/de.js instead
	// .playerwidth{
	// 	max-width: 100%;
	// 	width:100%;
	// 	height: auto;
	// 	display: block;
		// & iframe,
		// & object,
		// & embed {
		// 	max-width: 100%;
		// 	width:100%;
		// 	height: auto;
		// 	display: block;	
		// }
	// }
	
	.#{$namespace}toolTitleNav {
		float:none;
		max-width:100%;
		width:auto;
		display:inline-block;
		position: absolute;
		right:2.5em;
		bottom:1.5em;
		margin:0;
		border-bottom:none;
		background:white;
		.menuitem {
			margin:1em .5em;
			&:last-of-type {
				margin-right:1em
			}
		}
		.#{$namespace}toolTitleNav__link {
			margin:1em .5em;
			font-size: 14px;
			border:none;
			padding:0;
			font-size:.8em;
			&:before {
				margin:0;
				display:none;
			}
			&.fa-list-ul {
				float:none;
				margin:0;
				background: none;
				&:active,
				&:hover {
					color:$klein !important;
        			text-decoration:underline !important;
				}
				.#{$namespace}itemTitle {
					display:inline;
					margin-left:5px;
				}
			}
			&.fa-print,
			&.#{$namespace}toolTitleNav__link--directurl,
			&.#{$namespace}toolTitleNav__link--help-popup{
				display:none;
			}
		}
		
		// .#{$namespace}toolTitleNav__link--help-popup:before {
		// 	margin:0 2px;
		// }
		.topaction {
			display: none;
		}
		
		.#{$namespace}toolTitleNav__button_container {
			display:inline-block;
			float:none;
			right:0;
			top:0;
		}
	}
	.navIntraTool {
		display:none;
		border-top:1px solid $tool-border-color;

		background:none;
		&[role="application"]{
			margin:32px 0 0; 
			min-height:32px;
			border-bottom:1px solid $tool-border-color;
			display:block;
			background: $background-color;
		}
		
		#toolbar {
			margin:0;
		}
		li span a{
			border-bottom:none;
		}
		.bottomButtons{
			padding:1em 2em;
			.button {
				font-size: 14px;
				margin:0;
				&:last-of-type{
					background: $endeavour;
					color: $white !important;
				}
			}
			&:empty {
				display:none;
			}
		}
	}

	// Disable this if hiding toolMenuWrap left menu to give sense of place
	.subpage-breadcrumb-div {
		display:none;
	}
	.column {
		border:none;
		.addbottom {
			bottom:-2em;
		}
	}
	.column .commentDiv,
	.column .studentContentTable,
	.column .questionDiv .contentCol,
	.column .checklistDiv,
	.column .forumSummaryHeaderDiv,
	.column .announcementsHeaderDiv,
	.column .fc-toolbar {
		background:none;
	}
	.questionDiv {
		border-bottom:1px solid #eee 
	}
	.questionDiv .contentCol,
	.checklistDiv{
		margin-top:1em;
		padding:0 0 1em 0;
	
	}
	.statusCol {
		margin:0 -16px 0 0;
	}
	.subpage-breadcrumb-div {
		margin: 0;
	}
	.right-col {
		padding:0;
		h1,h2,h3,h4,h5,h6 {
			font-family:"Roboto Slab", serif;
			color:$grenadier;
		}
		h1{
			font-size: $font-size-h1;
		}
		h2{
			font-size: $font-size-h2;
		}
		h3{
			font-size: $font-size-h3;
		}
		h4{
			font-size: $font-size-h4;
		}
		h5{
			font-size: $font-size-h5;
		}
		h6{
			font-size: $font-size-h6;
		}
		table {
			@extend .table !optional;
		}
		blockquote {
			background:$hawkes;
			border-color:$sail;
		
		}
		blockquote:before,
		blockquote:after {
			color:$sail;
		}
		img[style*="float: left;"]{
			margin-right:1em;
		}
		img[style*="float: right;"]{
			margin-left:1em;
		}


	}
	.indent{
		margin:0;
	}
	.cols1 { 
		margin:0;
		padding:0;
		width:100% !important;
	}
	.cols2,.cols3 {
		width:calc(100% / 2 - .5em) !important;
		margin-right:1em !important;
		padding:1em;
	}
	.cols3 {
		width: calc(100% / 3 ) !important;
	}
	.cols3.double {
		width: calc(200% / 3 - 1em) !important;
	}
	.cols2.lastcol,
	.cols3.lastcol {
		margin-right:0 !important;
	}
	.ui-widget.ui-widget-content {
		font-size: 14px;
	}

	.mainList div:hover.canEdit {
		background-color:inherit;
	}
	//////////////////////////////////
	// Inline Multiple Choice Questions
	//////////////////////////////////
	.mainList .question{
		
		h3.questionText {
			color:$mine-shaft;
			font-family:$font-family;
			font-weight:400;
			font-size: 18px;
		}
		.questionDiv {
			border-top:1px solid #eee;
		}
		.questionDiv .contentCol,
		.checklistDiv {
			margin:0;
		}
		input[value="Submit Answer"].question-submit.btn-primary {
			background:$endeavour;
			color:$white !important;
			border-color:$midnight-blue;
		}
		.multipleChoiceForm .multipleChoiceAnswer {
			border:2px solid $mercury;
			margin:.25em 0;
			padding:.25em;
		}
		.multipleChoiceForm .multipleChoiceAnswer:hover {
			background:$mercury;
			cursor:pointer;
		}
		.multipleChoiceForm.disabled .multipleChoiceAnswer:hover {
			background:$mercury;
			cursor:not-allowed;
		}
		.questionStatusText {
			margin-top:15px;
		}
	}
	

	///////////////////////////////
	// Collapsable Sections
	///////////////////////////////
	.sectionHeader {
		padding: .5em 0;
		&:hover {
			.sectionCollapsedIcon:before {
				color:#eee;
			}
		}
	}
	.sectionCollapsedIcon:before {
		color:$white;
	}
	
	.collapsibleSectionHeader {
		.collapseIcon {
			float:left;
			margin-right:1em;
			line-height:30px;
		}
	}
	.sectionHeaderText {
		@extend .h2 !optional;
	}

	//////////////////////////////////////////////
	// EDX STYLE PROGRESS BAR
	// https://gist.github.com/profmikegreene/77f69d3b5e5b188f4ee5d514d524237b
	//////////////////////////////////////////////
	.lesson-progress-bar {
		margin-bottom:2em;
		text-align:center;
		margin-left:-28px;
		margin-right:-28px;
		margin-top:-10px;
		font-size:13px;
		a {
			display:block;
			text-decoration: none;
			color:$endeavour;
			padding:.7em .5em;
			&:hover {
				color:$klein;
				background:$hawkes;
			}
		}
		.col {
			border:1px solid $button-secondary-border-color;
			border-right:none;
			padding:0;
		} 
		.col-md-10-9 {
			width:9.259%;
			float: left;
		}	
		.col-md-10-8 {
			width:10.416%;
			float: left;
		}
		.col-md-10-7 {
			width:11.904%;
			float: left;
		}
		.col-md-10-6 {
			width:13.888%;
			float: left;
		}
		.col-md-10-4 {
			width:20.833%;
			float:left;
		}
		.col-md-10-3 {
			width:27.777%;
			float: left;
		}
		.prev {
			border-radius:$button-radius 0 0 0;
			border-left:none;
			.fa {
				margin-right:.5em
			}
		}
		.next {
			background:$endeavour;
			color:$white;
			border-radius: 0 $button-radius 0 0;
			border-right:1px solid $button-secondary-border-color;
			.fa {
				margin-left:.5em;
			}
			a {
				color:$white;
				&:hover {
					background:$klein;
				}
			}
		}
		.current {
			a {
				background:$hawkes;
				border-right:none;
			&:hover {
				background:$sail;
			}
		}
		} 
	}
} 
@media only screen and (max-width: 800px) {
	.#{$namespace}sakai-lessonbuildertool {
		.#{$namespace}toolTitleNav {
			display: none;
		}
	}
}
//////////////////////////////////////////////
//SAMIGO STYLES
//////////////////////////////////////////////
.#{$namespace}sakai-samigo {
	.navIntraTool {
		margin:-15px -15px 0 -15px !important; //important because morpheus default has it
	}
	#samigo-create-new-box,
	#samigo-create-import-box {
		color:$mine-shaft;
		h4 {
			color:$mine-shaft;
			font-weight:400;
			font-size:21px;
		}
	}
	ul.ui-tabs-nav{
		border:none;
		border-bottom:1px solid rgba(0,0,0,0.1);
		background:none;
	}
	.ui-tabs .ui-tabs-nav li.ui-tabs-active {
		background:$white;
		border:1px solid rgba(0,0,0,0.1);
		border-top:4px solid $dovegray;
		border-bottom:1px solid $white;
	}
	.ui-state-active a,
	.ui-state-active a:link,
	.ui-state-active a:visited {
		color:$mine-shaft;
	}
} 
//////////////////////////////////////////////
//GRADEBOOK STYLES
//////////////////////////////////////////////
.gb-summary-grade-flags {
	.gb-external-app-flag {
		&[aria-label$="Assignments"] {
			@extend .fa-file-text !optional;
		}
		&[aria-label$="Quizzes"] {
			@extend .fa-check-square-o !optional;
		}
		&[aria-label$="Forums"] {
			@extend .fa-comments !optional;
		}
	}
}

//////////////////////////////////////////////
//GRADEBOOK STYLES
//////////////////////////////////////////////
.#{$namespace}sakai-assignment-grades {
	#honor-pledge-agreement {
		h4 {
			font-size: $jumbotron-heading-font-size;
		}
		margin-bottom: 0;
		}
	}

//////////////////////////////////////////////
//JOIN SITE STYLES
//////////////////////////////////////////////
.join {
	@extend .table !optional;
	.logo {
		@extend .#{$namespace}headerLogo--institution !optional;
	}
}

